<!doctype html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>HISTORY_API</title>
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.5/css/bootstrap.min.css">
</head>
<body>
<div class="container">
    <h1>Welcome to my sample page</h1>
    <hr>
    <ul class="nav nav-pills">
        <li><a href="main">Main</a></li>
        <li><a href="about">About</a></li>
        <li><a href="downloads">Downloads</a></li>
    </ul>
    <hr>
    <div class="content"></div>
</div>
<script>
    var links,
            updatestate,
            updatebuttons,
            contentEl,
            navEl;
    contentEl = document.querySelector('.content');
    navEl = document.querySelector('.nav');

    links = {
        main: '<h1 style="text-transform: uppercase; color: lightgreen;">Hello World</h1>',
        about: '<img src="http://cdn2.ubergizmo.com/wp-content/uploads/2013/04/custom-lightsaber.jpg">',
        downloads: '<p>Lora emipsumdolorsitamet,consecteturadipiscingelit.Quisquescelerisquesollicitudinmolestie.aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa</p>',
    };

    updatestate = function(state) {
        if (!state) return;
        contentEl.innerHTML = links[state.page];
    };


    updatebuttons = function(state) {
        [].slice.call(navEl.querySelectorAll('a'))
                .forEach(function(e) {
                    var classList = e.parentNode.classList;
                    state.page === e.getAttribute('href') ? classList.add('active') : classList.remove('active');
                });
    };

    window.addEventListener('popstate', function(e) {
        updatestate(e.state);
    });

    navEl.addEventListener('click', function(e) {
        var state;
        if(e.target.tagName !== 'A') return;
        state = {
            page: e.target.getAttribute('href')
        };
        history.pushState(state, '', state.page);
        updatestate(state);
        e.preventDefault();
    });
</script>
</body>
</html>